<div class="card">
  <div class="card-header">
    Message Details
  </div>
  <div class="card-body">
    <p>
      <strong>From:</strong> <%= @message.client.user_id %>
    </p>

    <p>
      <strong>Sent:</strong> <%= @message.sent_at %>
    </p>

    <p>
      <strong>Message:</strong>
      <%= @message.message_body %>
    </p>
  </div>
</div>


<div class="card mt-4">
  <div class="card-header">
    Respond to message
  </div>
  <div class="card-body">
    <%= form_with(model: @message, url: message_path(@message), method: :patch, local: true) do |form| %>
      <div class="form-group mb-3">
        <%= form.label :response_body, "Custom Response" %>
        <%= form.text_area :response_body, class: "form-control", rows: 3 %>
      </div>

      <div class="form-group mb-3">
        <%= form.label :canned_message_id, "Or use a canned response" %>
        <%= form.collection_select :canned_message_id, CannedMessage.all, :id, :title, { prompt: "Select a canned message" }, { class: "form-control" } %>
      </div>

      <%= form.submit "Send Response", class: "btn btn-primary" %>
    <% end %>
  </div>
</div>
